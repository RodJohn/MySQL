


# 主从复制


MySQL主从复制是目前使用较为广泛的“读”高可用解决方案，
官方原生支持，技术比较成熟，配置也不复杂，
能够有效缓解数据库读写压力，

MySQL主从复制采用典型的Master-Slave架构，Slave从Master处同步数据来保证主从数据一致。
通过修改配置文件，可以设置同步粒度，如特定数据库，甚至是数据库中的某一张表。


4.基于Mysql主从复制(常用，普适)

备库，在线上也会提供服务，避免浪费；

而主从复制，也保证了数据不会丢失。



优点：

成本低，部署简单
可以作为一种备份机制，相当于热备份，保障数据安全
可以实现读写分离，Master上写数据，Slave上读数据，有效提高数据库读写性能
缺点：

Master可能出现单点故障问题，写数据仍然不是高可用
数据一致性问题（同步延迟）


# 原理


    binlog：Master进程，将数据更改写入二进制日志文件（Binary log）
    I/O：Slave进程，从Master服务器读取二进制日志文件，写入Slave的中继日志（Relay log）
    SQL：Slave进程，读取中继日志，执行其中的SQL语句
    
    binlog的特性确保了在备库执行相同的binlog，可以得到与主库相同的状态。
    
    只要主库执行更新生成的所有binlog，都可以传到备库并被正确地执行，备库就能达到跟主库一致的状态，这就是最终一致性。
    
    






























