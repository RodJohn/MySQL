

可用性 正确性



可选MySQL高可用方案
MySQL的各种高可用方案，大多是基于以下几种基础来部署的：

基于主从复制；
基于Galera协议；
基于NDB引擎；
基于中间件/proxy；
基于共享存储；
基于主机高可用；
在这些可选项中，最常见的就是基于主从复制的方案，其次是基于Galera的方案

要求

用作备份、只读副本等功能的非主节点应该与主节点的数据实时或者最终保持一致
数据库服务器如果发生宕机或者意外中断等故障，能够尽快恢复数据库服务的可用性，减少停机时间
当业务发生数据库切换时，切换前后的数据库内容应当一致，不会因为数据缺失或者数据不一致而影响业务


双节点主从 + keepalived/heartbeat
一般来说，中小型规模的时候，采用这种架构是最省事的。
两个节点可以采用简单的一主一从模式，或者双主模式，并且放置于同一个VLAN中，
在master节点发生故障后，利用keepalived/heartbeat的高可用机制实现快速切换到slave节点。



挂了以后
先 降流 ，预热 
