# 

表连接起来产生的笛卡尔积可能是非常巨大的
表连接需要内存和CPU



Index Nested-Loop Join    N + N * log(扇出数)M
Block Nested-Loop Join    N + K * M 
Simple Nested-Loop Join   N + N * M  


# 
 
 


  
# 优化方案


索引
小表

临时表
业务端 操作
实际上，这个优化思路，我们可以自己实现在业务端

1. BKA 优化是 MySQL 已经内置支持的，建议你默认使用； 
2. BNL 算法效率低，建议你都尽量转成 BKA 算法。优化的方向就是给被驱动表的关联字 段加上索引； 
3. 基于临时表的改进方案，对于能够提前过滤出小数据的 join 语句来说，效果还是很好 的； 
4. MySQL 目前的版本还不支持 hash join，但你可以配合应用端自己模拟出来，理论上效 果要好于临时表的方案。


# WAI

？？
对于内连接来说，选取哪个表为驱动表都没关系，而外连接的驱动表是固定的，也就是说左（外）连接的驱动表就是左边的那个表，右（外）连接的驱动表就是右边的那个表



# 嵌套循环连接（Nested-Loop Join）

内连接 丢弃不能匹配的驱动数据  
外链接 用null 表示 匹配数据


# 疑问 

left out join 和 循环条件的 问题  










