





# 使用RC隔离级别

    参考
    
# innodb_flush_log_at_trx_commit

    redolog 
    

# 长事务
减少长事务

除了对回滚段的影响，长事务还占用锁资源
   

长事务意味着系统里面会存在很老的事务视图。由于这些事务随时可能访问数据库里面的任何数据，所以这个事务提交之前，数据库里面它可能用到的回滚记录都必须保留，这就会导致大量占用存储空间。


除了对回滚段的影响，长事务还占用锁资源，也可能拖垮整个库
 
 有些客户端连接框架会默认连接成功后先执行一个set autocommit=0的命令。
 这就导致接下来的查询都在事务中，如果是长连接，就导致了意外的长事务。
